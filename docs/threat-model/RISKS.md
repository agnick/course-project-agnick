# Реестр рисков

| RiskID | Описание риска                               | Связь (F/NFR)          | L | I | Risk | Стратегия | Владелец | Срок       | Критерий закрытия                           |
|--------|----------------------------------------------|------------------------|---|---|------|-----------|----------|------------|---------------------------------------------|
| R1     | Подделка клиента при обращении к API         | F1, NFR-01             | 3 | 5 | 15   | Снизить   | @agnick  | 2025-10-21 | Все запросы без токена → 401                |
| R2     | Повреждение тела запроса (Tampering)         | F1, F2, NFR-02         | 2 | 4 | 8    | Снизить   | @agnick  | 2025-10-21 | Pydantic-валидация + тест 422               |
| R3     | Отказ от действия / несогласованность логов  | F2, NFR-03, NFR-07     | 3 | 3 | 9    | Снизить   | @agnick  | 2025-10-22 | Логи без PII, трассировка request-id        |
| R4     | Повреждение или дублирование записей в _DB   | F3, NFR-06             | 2 | 5 | 10   | Снизить   | @agnick  | 2025-10-22 | Unit-тест атомарности CRUD                  |
| R5     | Утечка чужих записей пользователя            | F3, F7, NFR-01, NFR-06 | 3 | 5 | 15   | Избежать  | @agnick  | 2025-10-22 | e2e тест фильтрации owner-only              |
| R6     | Перегрузка эндпоинта `/wishes/sorted`        | F4, NFR-04             | 2 | 4 | 8    | Снизить   | @agnick  | 2025-10-23 | p95 ≤ 200 мс при 30 RPS                     |
| R7     | Утечка персональных данных в логах           | F5, NFR-07             | 3 | 4 | 12   | Снизить   | @agnick  | 2025-10-23 | Лог-анализ + regex на токены                |
| R8     | Устаревшие или уязвимые зависимости          | F6, NFR-05             | 2 | 5 | 10   | Снизить   | @agnick  | 2025-10-24 | Dependabot: High/Critical ≤ 7 дней          |
| R9     | Вредоносный импорт JSON                      | F7, NFR-02, NFR-06     | 3 | 4 | 12   | Снизить   | @agnick  | 2025-10-24 | Валидация схемы + лимит размера файла       |
| R10    | Отправка истёкшего JWT токена (будущий риск) | NFR-10                 | 2 | 5 | 10   | Снизить   | @agnick  | 2025-11-21 | Тест: 401 после exp, TTL ≤ 60 мин           |
| R11    | Слабая защита паролей (не Argon2id)          | NFR-09                 | 3 | 5 | 15   | Снизить   | @agnick  | 2025-11-21 | Тест параметров Argon2id (t=3,m=256MiB,p=1) |
| R12    | Перегрузка /health-запросов (DoS)            | F4, NFR-08             | 2 | 3 | 6    | Принять   | @agnick  | 2025-10-25 | Среднее время < 100 мс                      |
